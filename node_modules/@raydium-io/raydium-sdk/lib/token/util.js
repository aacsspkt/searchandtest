var k=Object.create;var f=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var G=(n,r)=>{for(var t in r)f(n,t,{get:r[t],enumerable:!0})},d=(n,r,t,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of D(r))!L.call(n,o)&&o!==t&&f(n,o,{get:()=>r[o],enumerable:!(e=F(r,o))||e.enumerable});return n};var B=(n,r,t)=>(t=n!=null?k(K(n)):{},d(r||!n||!n.__esModule?f(t,"default",{value:n,enumerable:!0}):t,n)),C=n=>d(f({},"__esModule",{value:!0}),n);var J={};G(J,{TokenList:()=>N});module.exports=C(J);var W=require("@solana/web3.js");var p=require("@solana/web3.js");var w=require("@solana/web3.js");var E="1.1.0-beta.1";var X=require("@colors/colors"),b=!1,A=!1,m={debug:1,default:2,info:2,warning:3,error:4,off:5},I={},R;function v(){try{let n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(r=>{try{if("test".normalize(r)!=="test")throw new Error("bad normalize")}catch{n.push(r)}}),n.length)throw new Error("missing "+n.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(n){if(n instanceof Error)return n.message}return""}var O=v(),S=(l=>(l.DEBUG="DEBUG",l.INFO="INFO",l.WARNING="WARNING",l.ERROR="ERROR",l.OFF="OFF",l))(S||{}),x=(s=>(s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.RPC_ERROR="RPC_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s))(x||{}),P="0123456789abcdef";function U(n,r=!1){let t=n;try{if(n instanceof Uint8Array){let e="";for(let o=0;o<n.length;o++)e+=P[n[o]>>4],e+=P[n[o]&15];t=`Uint8Array(0x${e})`}else if(n instanceof w.PublicKey)t=`PublicKey(${n.toBase58()})`;else if(n instanceof Object&&!r){let e={};Object.entries(n).forEach(([o,l])=>{e[o]=U(l,!0)}),t=JSON.stringify(e)}else r||(t=JSON.stringify(n))}catch{t=JSON.stringify(n.toString())}return t}var i=class{constructor(r){this.version=E;this.moduleName=r}_log(r,t){let e=r.toLowerCase();m[e]==null&&this.throwArgumentError("invalid log level name","logLevel",r),!((I[this.moduleName]||m.default)>m[e])&&console.log(...t)}debug(...r){this._log(i.levels.DEBUG,["[DEBUG]".blue,...r])}info(...r){this._log(i.levels.INFO,["[INFO]".green,...r])}warn(...r){this._log(i.levels.WARNING,["[WARN]".yellow,...r])}makeError(r,t,e){if(A)return this.makeError("censored error",t,{});t||(t=i.errors.UNKNOWN_ERROR),e||(e={});let o=[];Object.entries(e).forEach(([h,y])=>{o.push(`${h}=${U(y)})`)}),o.push(`code=${t}`),o.push(`module=${this.moduleName}`),o.push(`version=${this.version}`);let l=r;o.length&&(r+=" ("+o.join(", ")+")");let u=new Error(r);return u.reason=l,u.code=t,Object.entries(e).forEach(([h,y])=>{u[h]=y}),u}throwError(r,t,e){throw this.makeError(r,t,e)}throwArgumentError(r,t,e){return this.throwError(r,i.errors.INVALID_ARGUMENT,{argument:t,value:e})}assert(r,t,e,o){r||this.throwError(t,e,o)}assertArgument(r,t,e,o){r||this.throwArgumentError(t,e,o)}checkNormalize(r){r==null&&(r="platform missing String.prototype.normalize"),O&&this.throwError("platform missing String.prototype.normalize",i.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:O})}checkSafeUint53(r,t){typeof r=="number"&&(t==null&&(t="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(t,i.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(t,i.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,t,e){e?e=": "+e:e="",r<t&&this.throwError("missing argument"+e,i.errors.MISSING_ARGUMENT,{count:r,expectedCount:t}),r>t&&this.throwError("too many arguments"+e,i.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:t})}checkNew(r,t){(r===Object||r==null)&&this.throwError("missing new",i.errors.MISSING_NEW,{name:t.name})}checkAbstract(r,t){r===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",i.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):(r===Object||r==null)&&this.throwError("missing new",i.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return R||(R=new i(E)),R}static setCensorship(r,t){if(!r&&t&&this.globalLogger().throwError("cannot permanently disable censorship",i.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),b){if(!r)return;this.globalLogger().throwError("error censorship permanent",i.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}A=!!r,b=!!t}static setLogLevel(r,t){let e=m[t.toLowerCase()];if(e==null){i.globalLogger().warn("invalid log level - "+t);return}I[r]=e}static from(r){return new i(r)}},a=i;a.errors=x,a.levels=S;var M=require("@solana/spl-token"),_=require("@solana/web3.js"),Q=a.from("common/pubkey"),Z=p.SystemProgram.programId,rr=new p.PublicKey("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo");var j=require("@solana/web3.js"),$=B(require("bn.js"));var T=require("@solana/web3.js");var Rr=a.from("common/web3");var g=a.from("token/util"),N=class{constructor(r){this.tokenList=r;this.filterByMint=r=>this.tokenList.filter(t=>t.mint===r);this.filterUniqueByMint=(r,t="all")=>{let e=this.tokenList.filter(l=>l.mint===r);if(e.length===0)return g.throwArgumentError("No token found","mint",r);if(e.length>1)return g.throwArgumentError(`Multiple tokens found: ${e.length}`,"mint",r);let o=e[0];return t==="spl"&&"version"in o?g.throwArgumentError("invalid SPL token mint","mint",r):t==="lp"&&!("version"in o)?g.throwArgumentError("invalid LP token mint","mint",r):o};this.getList=()=>this.tokenList}};0&&(module.exports={TokenList});
//# sourceMappingURL=util.js.map