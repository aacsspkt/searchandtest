import{PublicKey as M}from"@solana/web3.js";import{PublicKey as u,SystemProgram as w}from"@solana/web3.js";import{PublicKey as S}from"@solana/web3.js";var g="1.1.0-beta.1";import"@colors/colors";var O=!1,T=!1,c={debug:1,default:2,info:2,warning:3,error:4,off:5},p={},y;function _(){try{let n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(r=>{try{if("test".normalize(r)!=="test")throw new Error("bad normalize")}catch{n.push(r)}}),n.length)throw new Error("missing "+n.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(n){if(n instanceof Error)return n.message}return""}var A=_(),b=(a=>(a.DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.OFF="OFF",a))(b||{}),U=(s=>(s.UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.RPC_ERROR="RPC_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s))(U||{}),I="0123456789abcdef";function P(n,r=!1){let e=n;try{if(n instanceof Uint8Array){let t="";for(let o=0;o<n.length;o++)t+=I[n[o]>>4],t+=I[n[o]&15];e=`Uint8Array(0x${t})`}else if(n instanceof S)e=`PublicKey(${n.toBase58()})`;else if(n instanceof Object&&!r){let t={};Object.entries(n).forEach(([o,a])=>{t[o]=P(a,!0)}),e=JSON.stringify(t)}else r||(e=JSON.stringify(n))}catch{e=JSON.stringify(n.toString())}return e}var i=class{constructor(r){this.version=g;this.moduleName=r}_log(r,e){let t=r.toLowerCase();c[t]==null&&this.throwArgumentError("invalid log level name","logLevel",r),!((p[this.moduleName]||c.default)>c[t])&&console.log(...e)}debug(...r){this._log(i.levels.DEBUG,["[DEBUG]".blue,...r])}info(...r){this._log(i.levels.INFO,["[INFO]".green,...r])}warn(...r){this._log(i.levels.WARNING,["[WARN]".yellow,...r])}makeError(r,e,t){if(T)return this.makeError("censored error",e,{});e||(e=i.errors.UNKNOWN_ERROR),t||(t={});let o=[];Object.entries(t).forEach(([E,N])=>{o.push(`${E}=${P(N)})`)}),o.push(`code=${e}`),o.push(`module=${this.moduleName}`),o.push(`version=${this.version}`);let a=r;o.length&&(r+=" ("+o.join(", ")+")");let f=new Error(r);return f.reason=a,f.code=e,Object.entries(t).forEach(([E,N])=>{f[E]=N}),f}throwError(r,e,t){throw this.makeError(r,e,t)}throwArgumentError(r,e,t){return this.throwError(r,i.errors.INVALID_ARGUMENT,{argument:e,value:t})}assert(r,e,t,o){r||this.throwError(e,t,o)}assertArgument(r,e,t,o){r||this.throwArgumentError(e,t,o)}checkNormalize(r){r==null&&(r="platform missing String.prototype.normalize"),A&&this.throwError("platform missing String.prototype.normalize",i.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:A})}checkSafeUint53(r,e){typeof r=="number"&&(e==null&&(e="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(e,i.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(e,i.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,e,t){t?t=": "+t:t="",r<e&&this.throwError("missing argument"+t,i.errors.MISSING_ARGUMENT,{count:r,expectedCount:e}),r>e&&this.throwError("too many arguments"+t,i.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:e})}checkNew(r,e){(r===Object||r==null)&&this.throwError("missing new",i.errors.MISSING_NEW,{name:e.name})}checkAbstract(r,e){r===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",i.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):(r===Object||r==null)&&this.throwError("missing new",i.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return y||(y=new i(g)),y}static setCensorship(r,e){if(!r&&e&&this.globalLogger().throwError("cannot permanently disable censorship",i.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),O){if(!r)return;this.globalLogger().throwError("error censorship permanent",i.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}T=!!r,O=!!e}static setLogLevel(r,e){let t=c[e.toLowerCase()];if(t==null){i.globalLogger().warn("invalid log level - "+e);return}p[r]=t}static from(r){return new i(r)}},l=i;l.errors=U,l.levels=b;import{ASSOCIATED_TOKEN_PROGRAM_ID as j,TOKEN_PROGRAM_ID as z}from"@solana/spl-token";import{SYSVAR_CLOCK_PUBKEY as J,SYSVAR_RENT_PUBKEY as $}from"@solana/web3.js";var d=l.from("common/pubkey"),W=w.programId,k=new u("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo");function h(n){if(n instanceof u)return n;if(typeof n=="string")try{return new u(n)}catch{return d.throwArgumentError("invalid public key","publicKey",n)}return d.throwArgumentError("invalid public key","publicKey",n)}function H(n){return Object.entries(n).reduce((r,[e,t])=>(typeof t=="string"?r[e]=h(t):t instanceof Array?r[e]=t.map(o=>h(o)):r[e]=t,r),{})}function q(n){return Object.entries(n).reduce((r,[e,t])=>(t instanceof M?r[e]=t.toBase58():t instanceof Array?r[e]=t.map(o=>o.toBase58()):r[e]=t,r),{})}export{H as jsonInfo2PoolKeys,q as poolKeys2JsonInfo};
//# sourceMappingURL=convert-json.mjs.map